# SPDX-FileCopyrightText: 2023 Carnegie Mellon University
# SPDX-License-Identifier: 0BSD

[tool.poe.tasks.build]
help = "Build sdist and wheel"
cmd = "poetry build"

[tool.poe.tasks.check]
help = "Manually run some pre-commit jobs"
sequence = [
    "poetry run isort src",
    #"poetry run black src",
    #"poetry run flake8 src",
    #"poetry run mypy",
]
default_item_type = "cmd"

[tool.poe.tasks.protoc]
help = "Regenerate protocol buffer files"
cmd = """
poetry run python -m grpc_tools.protoc -I protos
        --python_out=src/hawk/proto
        --mypy_out=src/hawk/proto
        messages.proto
"""
